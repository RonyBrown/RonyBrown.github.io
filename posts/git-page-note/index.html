<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Hugo构建GitHub Pages#Hugo &#43; GitHub Pages 搭建个人博客#创建 Hugo 网站#通过上述命令安装 hugo 程序后，就可以通过 hugo new site 命令进行网站创建、配置与本地调试了。
hugo new site ronyz-site 注：后续命令未经说明，均在cmd中的ronyz-site根目录下运行
创建完成后，根目录 ronyz-site 包含以下文件
.├── archetypes: default.md是生成博文的模版├── assets # 存放被 Hugo Pipes 处理的文件├── content # 存放markdown文件作为博文内容├── data # 存放 Hugo 处理的数据├── layouts # 存放布局文件├── static # 存放静态文件 图片 CSS JS文件├── themes: 存放不同的主题└── config.toml: 博客配置文件支持 JSON YAML TOML 三种格式配置文件 配置主题#当通过上文命令创建我们的站点后，需要进行主题配置，Hugo 社区有了很丰富的主题，可以通过官网 Themes 菜单选择自己喜欢的风格，查看预览效果，选择后可以进入主题项目仓库，一般都会有很详细的安装及配置说明。">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/posts/git-page-note/">
  <meta property="og:site_name" content="Rony Brown Blog">
  <meta property="og:title" content="Git Page Note">
  <meta property="og:description" content="Hugo构建GitHub Pages#Hugo &#43; GitHub Pages 搭建个人博客#创建 Hugo 网站#通过上述命令安装 hugo 程序后，就可以通过 hugo new site 命令进行网站创建、配置与本地调试了。
hugo new site ronyz-site 注：后续命令未经说明，均在cmd中的ronyz-site根目录下运行
创建完成后，根目录 ronyz-site 包含以下文件
.├── archetypes: default.md是生成博文的模版├── assets # 存放被 Hugo Pipes 处理的文件├── content # 存放markdown文件作为博文内容├── data # 存放 Hugo 处理的数据├── layouts # 存放布局文件├── static # 存放静态文件 图片 CSS JS文件├── themes: 存放不同的主题└── config.toml: 博客配置文件支持 JSON YAML TOML 三种格式配置文件 配置主题#当通过上文命令创建我们的站点后，需要进行主题配置，Hugo 社区有了很丰富的主题，可以通过官网 Themes 菜单选择自己喜欢的风格，查看预览效果，选择后可以进入主题项目仓库，一般都会有很详细的安装及配置说明。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-26T15:09:41+08:00">
    <meta property="article:modified_time" content="2024-12-26T15:09:41+08:00">
<title>Git Page Note | Rony Brown Blog</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="canonical" href="http://localhost:1313/posts/git-page-note/">
<link rel="stylesheet" href="/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css" integrity="sha256-MJt&#43;0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.772cc4cad79414a81b0d8b7edc05ac0e0c801a2a44749b911c8facace537df9a.js" integrity="sha256-dyzEyteUFKgbDYt&#43;3AWsDgyAGipEdJuRHI&#43;srOU335o=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>

  
    
      
    
  

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo/ronybrown-logo.png" alt="Logo" /><span>Rony Brown Blog</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>












  <ul>
<li>
  <a href="/docs/">Book Example</a>
<ul>
<li>
  <a href="/docs/page-one/">首页</a></li>
<li>
  <a href="/docs/page-two/">第二页</a></li>
</ul>
</li>
<li>
  <a href="/posts/">Blog</a>
<ul>
<li>
  <a href="/posts/git-note/">git note</a></li>
<li>
  <a href="/posts/RZ_AD9361_No-Os_pl_rw/">AD9361 PL读写数据，PS初始化</a></li>
<li>
  <a href="/posts/git-page-note/"class=active>Hugo GitHub 配置</a></li>
</ul>
</li>
</ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Git Page Note</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#hugo构建github-pages">Hugo构建GitHub Pages</a>
      <ul>
        <li><a href="#hugo--github-pages-搭建个人博客">Hugo + GitHub Pages 搭建个人博客</a>
          <ul>
            <li><a href="#创建-hugo-网站">创建 Hugo 网站</a></li>
            <li><a href="#配置主题">配置主题</a></li>
            <li><a href="#新建博文">新建博文</a></li>
            <li><a href="#生成网页">生成网页</a></li>
            <li><a href="#配置文件">配置文件</a></li>
          </ul>
        </li>
        <li><a href="#github-pages-发布博客">GitHub Pages 发布博客</a>
          <ul>
            <li><a href="#github-pages-到底是在做什么">Github Pages 到底是在做什么？</a></li>
            <li><a href="#实战操作部署-hugo-作为一个-github-pages">实战操作：部署 Hugo 作为一个 GitHub Pages</a></li>
          </ul>
        </li>
        <li><a href="#gitaction-自动发布">GitAction 自动发布</a></li>
        <li><a href="#总结">总结</a></li>
        <li><a href="#选择和配置hugo-主题">选择和配置Hugo 主题</a>
          <ul>
            <li><a href="#流行的-hugo-主题">流行的 Hugo 主题</a></li>
            <li><a href="#配置-hugo-主题">配置 Hugo 主题</a></li>
          </ul>
        </li>
        <li><a href="#使用技巧">使用技巧</a>
          <ul>
            <li><a href="#图片问题">图片问题</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown book-post">
  <h1>
    <a href="/posts/git-page-note/">Git Page Note</a>
  </h1>
  
  <h5>Dec 26, 2024</h5>



  

  



<h1 id="hugo构建github-pages">
  Hugo构建GitHub Pages
  <a class="anchor" href="#hugo%e6%9e%84%e5%bb%bagithub-pages">#</a>
</h1>
<h2 id="hugo--github-pages-搭建个人博客">
  Hugo + GitHub Pages 搭建个人博客
  <a class="anchor" href="#hugo--github-pages-%e6%90%ad%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2">#</a>
</h2>
<h3 id="创建-hugo-网站">
  创建 Hugo 网站
  <a class="anchor" href="#%e5%88%9b%e5%bb%ba-hugo-%e7%bd%91%e7%ab%99">#</a>
</h3>
<p>通过上述命令安装 hugo 程序后，就可以通过 hugo new site 命令进行网站创建、配置与本地调试了。</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new site ronyz-site
</span></span></code></pre></div><p>注：后续命令未经说明，均在cmd中的ronyz-site根目录下运行</p>
<p>创建完成后，根目录 ronyz-site 包含以下文件</p>
<pre tabindex="0"><code>.
├── archetypes: default.md是生成博文的模版
├── assets # 存放被 Hugo Pipes 处理的文件
├── content # 存放markdown文件作为博文内容
├── data # 存放 Hugo 处理的数据
├── layouts # 存放布局文件
├── static # 存放静态文件 图片 CSS JS文件
├── themes: 存放不同的主题
└── config.toml: 博客配置文件支持 JSON YAML TOML 三种格式配置文件
</code></pre><h3 id="配置主题">
  配置主题
  <a class="anchor" href="#%e9%85%8d%e7%bd%ae%e4%b8%bb%e9%a2%98">#</a>
</h3>
<p>当通过上文命令创建我们的站点后，需要进行主题配置，Hugo 社区有了很丰富的主题，可以通过官网 Themes 菜单选择自己喜欢的风格，查看预览效果，选择后可以进入主题项目仓库，一般都会有很详细的安装及配置说明。</p>
<p>官方主题网站: 
  <a href="https://themes.gohugo.io/">https://themes.gohugo.io/</a></p>
<p>主题推荐:</p>
<ul>
<li>Pure: 
  <a href="https://themes.gohugo.io/hugo-theme-pure/">https://themes.gohugo.io/hugo-theme-pure/</a></li>
</ul>
<h4 id="关联主题仓库">
  关联主题仓库
  <a class="anchor" href="#%e5%85%b3%e8%81%94%e4%b8%bb%e9%a2%98%e4%bb%93%e5%ba%93">#</a>
</h4>
<p>我们可以将主题仓库直接 git clone 下来进行使用，例如在根目录ronyz-site下运行以下代码，即可下载pure主题.</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/xiaoheiAh/hugo-theme-pure themes/pure
</span></span></code></pre></div><p>这种方式有一些弊端，当之后自己对主题进行修改后，可能会与原主题产生一些冲突，不方便版本管理与后续更新。官方更推荐使用的是将原主题仓库 fork 到自己的账户，并使用<code>git submodule</code>方式进行仓库链接，这样后续可以对主题的修改进行单独维护。</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd  ronyz-site/
</span></span><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git submodule add https://github.com/pseudoyu/pure themes/pure
</span></span></code></pre></div><p>然后在根目录下的 config.toml文件中添加新的一行:</p>
<pre tabindex="0"><code>theme = &#34;pure&#34;
</code></pre><h4 id="更新主题">
  更新主题
  <a class="anchor" href="#%e6%9b%b4%e6%96%b0%e4%b8%bb%e9%a2%98">#</a>
</h4>
<p>如果是 clone 了其他人的博客项目进行修改，则需要用以下命令进行初始化：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git submodule update --init --recursive
</span></span></code></pre></div><p>如果需要同步主题仓库的最新修改，需要运行以下命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git submodule update --remote
</span></span></code></pre></div><h3 id="新建博文">
  新建博文
  <a class="anchor" href="#%e6%96%b0%e5%bb%ba%e5%8d%9a%e6%96%87">#</a>
</h3>
<p>完成后，可以通过<code>hugo new</code>命令发布新文章。</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new posts/test.md
</span></span></code></pre></div><pre tabindex="0"><code>---
title: &#34;Test&#34;
date: 2022-10-21T19:00:43+08:00
draft: true
---
</code></pre><p>这个命令会在<code>content</code>目录下建立<code>posts</code>目录，并在<code>posts</code>下生成<code>test.md</code>文件，博文书写就在这个文件里使用<code>Markdown</code>语法完成。博文的<code>front matter</code>里<code>draft</code>选项默认为<code>true</code>，需要改为<code>false</code>才能发表博文，建议直接更改上面说的<code>archetypes</code>目录下的<code>default</code>文件，把<code>draft: true</code>改为<code>draft: false</code>，这样生成的博文就是默认可以发表的。</p>
<h3 id="生成网页">
  生成网页
  <a class="anchor" href="#%e7%94%9f%e6%88%90%e7%bd%91%e9%a1%b5">#</a>
</h3>
<p>为了查看生成的博客的效果，我们在本地编辑调试时可以通过 hugo server 命令进行本地实时调试预览，无须每次都重新生成。在cmd中运行以下命令，即我们可以通过浏览器 http://localhost:1313/ 地址访问我们的本地预览网页。</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo server -D
</span></span></code></pre></div><p>但此时只能在本地访问，如果想发布到<code>Github Pages</code>， 还需要借助<code>GithubPages</code>工具。</p>
<h3 id="配置文件">
  配置文件
  <a class="anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6">#</a>
</h3>
<p>打开配置config.toml可以看到很多的参数可以配置，这里只描述最基本的内容，不同的主题可能会支持不同的参数配置，具体请看对应主题的说明文档。baseURL是站点的域名。title是站点的名称。theme是站点的主题。还有关于评论和打赏的相关配置，这些配置都可以参考官网主题的说明。</p>
<p>每次发布的时候，都需要先执行hugo，把新写的文档按照主题进行渲染，所有生成的文件默认都在当前pulic的子目录下，可以在config里面配置到其他目录。然后把所有新的文件提交到github。提交代码之后，要等一段时间才生效。</p>
<h2 id="github-pages-发布博客">
  GitHub Pages 发布博客
  <a class="anchor" href="#github-pages-%e5%8f%91%e5%b8%83%e5%8d%9a%e5%ae%a2">#</a>
</h2>
<p>我们希望 Hugo 生成的静态网站能通过 GitHub Pages 服务进行托管，而无需自己维护服务，更稳定、安全，因此我们需要上传 Hugo 生成的静态网页文件至 GitHub Page 项目仓库。</p>
<h3 id="github-pages-到底是在做什么">
  Github Pages 到底是在做什么？
  <a class="anchor" href="#github-pages-%e5%88%b0%e5%ba%95%e6%98%af%e5%9c%a8%e5%81%9a%e4%bb%80%e4%b9%88">#</a>
</h3>
<p>A：Github Pages 本质上是一个静态网站托管系统，你可以使用它为你的每一个仓库制作一个静态网页入口。</p>
<p>它有两种存在方式：</p>
<ol>
<li>识别 master branch 根目录下的：README.md 或者 index.html</li>
<li>识别 master branch 的 /docs 目录下的：README.md 或者 index.html</li>
</ol>
<p>也就是说：我们可以把我们的静态网页直接存在 master branch，并在 Github Repository 的 Setting 页中打开 Github Pages 选项，就可以通过一个域名访问到我们的想要的网站了。</p>
<h3 id="实战操作部署-hugo-作为一个-github-pages">
  实战操作：部署 Hugo 作为一个 GitHub Pages
  <a class="anchor" href="#%e5%ae%9e%e6%88%98%e6%93%8d%e4%bd%9c%e9%83%a8%e7%bd%b2-hugo-%e4%bd%9c%e4%b8%ba%e4%b8%80%e4%b8%aa-github-pages">#</a>
</h3>
<blockquote>
<p>将 Hugo 部署为 Github Pages 项目，并使用简单的 shell 脚本自动化整个过程</p>
</blockquote>
<p><strong>第一步： 创建一个 Github 仓库</strong></p>
<ol>
<li>登录后，点击右上角，出现下拉菜单，点击 Your repositories 进入页面</li>
<li>点击 New</li>
<li>进入 Creat a new repository 页面</li>
<li><code>Repository name</code>这里一定要填 [你的github账号].github.io，像我的账号是<code>ronybrown</code>，所以我就要輸入<code>ronybrown.github.io</code>，然后按<code>[Create Repository]</code>。</li>
</ol>
<p><strong>第二步：创建新文章</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new posts/my-first-post.md
</span></span></code></pre></div><p>这里面值得注意的是，通过上述命令行创建的文章中，会自动生成一部分文本如下：</p>
<pre tabindex="0"><code>---
title: &#34;My First Post&#34;
date: 2019-03-26T08:47:11+01:00
draft: true
---
</code></pre><p>我们需要把 draft : true 修改成 draft : false 才可以上传这篇文章</p>
<p><strong>第三步：修改配置文件 config.toml</strong></p>
<p>站点目录<strong>config.toml中baseURL</strong>要换成自己建立的仓库，如baseURL = “https://jianzhnie.github.io/&quot;</p>
<p><strong>第四步： 进入站点根目录下，执行：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo
</span></span></code></pre></div><p>执行后，站点根目录下会生成一个<code>public</code>文件夹，该文件下的内容即Hugo生成的整个静态网站。每次更新内容后，将 pubilc 目录里所有文件 push到GitHub即可。</p>
<p><strong>第五步：上传代码至 master</strong></p>
<p>首次使用的时候要执行以下命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd public
</span></span><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git remote add origin https://github.com/jianzhnie/jianzhnie.github.io.git <span style="color:#8d8687"># 将本地目录链接到远程服务器的代码仓库</span>
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#48b685">&#34;[介绍，随便写点什么，比如日期]&#34;</span>
</span></span><span style="display:flex;"><span>git push -u origin master
</span></span></code></pre></div><p>稍等几分钟即可通过我们的自定义域名来访问我们的博客站点了，和我们<code>hugo server</code>本地调试完全一致。</p>
<p>以后每次站点目录下执行<code>hugo</code>命令后，再到<code>public</code>下执行推送命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git add -A
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#48b685">&#34;[介绍，随便写点什么，比如日期]&#34;</span>
</span></span><span style="display:flex;"><span>git push -u origin master
</span></span></code></pre></div><h2 id="gitaction-自动发布">
  GitAction 自动发布
  <a class="anchor" href="#gitaction-%e8%87%aa%e5%8a%a8%e5%8f%91%e5%b8%83">#</a>
</h2>
<p>通过上述命令我们可以手动发布我们的静态文件，但还是有以下弊端：</p>
<p>发布步骤还是比较繁琐，本地调试后还需要切换到<code>public/</code>目录进行上传
无法对博客<code>.md</code>源文件进行备份与版本管理
因此，我们需要简单顺滑的方式来进行博客发布，首先我们初始化博客源文件的仓库，如我的仓库为<code>RonyBrown/RonyBrown.github.io</code>。</p>
<p>因为我们的博客基于<code>GitHub</code>与<code>GitHub Pages</code>，可以通过官方提供的 GitHub Action 进行 CI 自动发布，下面我会进行详细讲解。GitHub Action 是一个持续集成和持续交付(CI/CD) 平台，可用于自动执行构建、测试和部署管道，目前已经有很多开发好的工作流，可以通过简单的配置即可直接使用。</p>
<p>配置在仓库目录<code>.github/workflows</code>下，以<code>.yml</code>为后缀。我的 GitHub Action 配置为<code>RonyzBrown/RonyBrown.github.io deploy.yml</code>，自动发布示例配置如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#5bc4bf">name</span>: <span style="color:#f99b15">deploy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5bc4bf">on</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#5bc4bf">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#5bc4bf">workflow_dispatch</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#5bc4bf">schedule</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#8d8687"># Runs everyday at 8:00 AM</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#5bc4bf">cron</span>: <span style="color:#48b685">&#34;0 0 * * *&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#5bc4bf">jobs</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#5bc4bf">build</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#5bc4bf">runs-on</span>: <span style="color:#f99b15">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>        <span style="color:#5bc4bf">steps</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#5bc4bf">name</span>: <span style="color:#f99b15">Checkout</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">uses</span>: <span style="color:#f99b15">actions/checkout@v2</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">with</span>:
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">submodules</span>: <span style="color:#815ba4">true</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">fetch-depth</span>: <span style="color:#f99b15">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            - <span style="color:#5bc4bf">name</span>: <span style="color:#f99b15">Setup Hugo</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">uses</span>: <span style="color:#f99b15">peaceiris/actions-hugo@v2</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">with</span>:
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">hugo-version</span>: <span style="color:#48b685">&#34;latest&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            - <span style="color:#5bc4bf">name</span>: <span style="color:#f99b15">Build Web</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">run</span>: <span style="color:#f99b15">hugo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            - <span style="color:#5bc4bf">name</span>: <span style="color:#f99b15">Deploy Web</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">uses</span>: <span style="color:#f99b15">peaceiris/actions-gh-pages@v3</span>
</span></span><span style="display:flex;"><span>              <span style="color:#5bc4bf">with</span>:
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">PERSONAL_TOKEN</span>: <span style="color:#f99b15">${{ secrets.PERSONAL_TOKEN }}</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">EXTERNAL_REPOSITORY</span>: <span style="color:#f99b15">pseudoyu/pseudoyu.github.io</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">PUBLISH_BRANCH</span>: <span style="color:#f99b15">master</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">PUBLISH_DIR</span>: <span style="color:#f99b15">./public</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#5bc4bf">commit_message</span>: <span style="color:#f99b15">${{ github.event.head_commit.message }}</span>
</span></span></code></pre></div><p>on 表示 GitHub Action 触发条件，我设置了 push、workflow_dispatch 和 schedule 三个条件：</p>
<p>push，当这个项目仓库发生推送动作后，执行 GitHub Action
workflow_dispatch，可以在 GitHub 项目仓库的 Action 工具栏进行手动调用
schedule，定时执行 GitHub Action，如我的设置为北京时间每天早上执行，主要是使用一些自动化统计 CI 来自动更新我博客的关于页面，如本周编码时间，影音记录等，如果你不需要定时功能，可以删除这个条件
jobs 表示 GitHub Action 中的任务，我们设置了一个 build 任务，runs-on 表示 GitHub Action 运行环境，我们选择了 ubuntu-latest。我们的 build 任务包含了 Checkout、Setup Hugo、Build Web 和 Deploy Web 四个主要步骤，其中 run 是执行的命令，uses 是 GitHub Action 中的一个插件，我们使用了 peaceiris/actions-hugo@v2 和 peaceiris/actions-gh-pages@v3 这两个插件。其中 Checkout 步骤中 with 中配置 submodules 值为 true 可以同步博客源仓库的子模块，即我们的主题模块。</p>
<p>首先需要将上述 deploy.yml 中的 EXTERNAL_REPOSITORY 改为自己的 GitHub Pages 仓库，如我的设置为 pseudoyu/pseudoyu.github.io。</p>
<p>因为我们需要从博客仓库推送到外部 GitHub Pages 仓库，需要特定权限，要在 GitHub 账户下 Setting - Developer setting - Personal access tokens 下创建一个 Token。</p>
<h2 id="总结">
  总结
  <a class="anchor" href="#%e6%80%bb%e7%bb%93">#</a>
</h2>
<p>以上整个环境部署好之后，接下来的常用命令就是以下几个：</p>
<ol>
<li>站点目录下，新建文章，执行：</li>
</ol>
<pre tabindex="0"><code>hugo new post/文章名.md
</code></pre><ol start="2">
<li>添加文章内容或修改，包括修改主题之类的，在本地进行调试</li>
<li>修改完成，确定要上传到GitHub上后，站点目录下执行：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo
</span></span></code></pre></div><p>进行编译，没错误的话修改的内容就顺利同步到public下了，然后<strong>cd public</strong>下，执行提交命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git add -A
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#48b685">&#34;20200204-1&#34;</span>
</span></span><span style="display:flex;"><span>git push -u origin master
</span></span></code></pre></div><h2 id="选择和配置hugo-主题">
  选择和配置Hugo 主题
  <a class="anchor" href="#%e9%80%89%e6%8b%a9%e5%92%8c%e9%85%8d%e7%bd%aehugo-%e4%b8%bb%e9%a2%98">#</a>
</h2>
<h3 id="流行的-hugo-主题">
  流行的 Hugo 主题
  <a class="anchor" href="#%e6%b5%81%e8%a1%8c%e7%9a%84-hugo-%e4%b8%bb%e9%a2%98">#</a>
</h3>
<p>使用 Hugo 博客时，我们最希望的是找到适合自己的一款主题，下面将图文结合介绍一些流行的 Hugo 主题。此外，关于写作的方法和 Hugo 主题修改，可以查阅本文参考中的 Hugo 官方文档，这里不再赘述。</p>
<p>Hugo 流行主题之 1：MemE</p>
<p>MemE 是一个强大且可高度定制的 GoHugo 博客主题，专为个人博客设计。MemE 主题专注于优雅、简约、现代，以及代码的正确性。Github 地址：https://github.com/reuixiy/hugo-theme-meme。</p>
<p>Hugo 流行主题之 2：Clarity</p>
<p>基于 VMware 的开源 Clarity 设计系统，具有丰富的代码支持、暗/光模式、移动支持等特点，为 Hugo 设计了一个具有技术意识的主题。Github 地址：https://github.com/chipzoller/hugo-clarity</p>
<p>Hugo 流行主题之 3： LoveIt</p>
<p>LoveIt 是一个简洁、优雅且高效的 Hugo 博客主题。Github 地址： 
  <a href="https://github.com/dillonzq/LoveIt">https://github.com/dillonzq/LoveIt</a></p>
<p>它的原型基于 LeaveIt 主题 和 KeepIt 主题。LoveIt 主题 
  <a href="https://circleci.com/gh/dillonzq/LoveIt/tree/master">https://circleci.com/gh/dillonzq/LoveIt/tree/master</a></p>
<p>Hugo 流行主题之 4： Hugo Book Theme</p>
<p>Hugo documentation theme as simple as plain book. Github 地址： 
  <a href="https://github.com/alex-shpak/hugo-book">https://github.com/alex-shpak/hugo-book</a></p>
<p>Hugo 流行主题之 5：Hugo Academic Theme</p>
<p>Hugo Academic Theme 创建一个学术网站. Easily create a beautiful academic résumé or educational website using Hugo, GitHub, and Netlify. github地址： 
  <a href="https://github.com/wowchemy/starter-hugo-academic">https://github.com/wowchemy/starter-hugo-academic</a></p>
<p>Hugo 流行主题之 6 ： Hugo Learn Theme</p>
<p>This repository contains a theme for Hugo, based on great Grav Learn Theme.</p>
<p>Visit the theme documentation to see what is going on. It is actually built with this theme.</p>
<p>Hugo 流行主题之 7: Doks</p>
<p>Modern Documentation Theme</p>
<p>Doks is a Hugo theme for building secure, fast, and SEO-ready documentation websites, which you can easily update and customize.</p>
<h3 id="配置-hugo-主题">
  配置 Hugo 主题
  <a class="anchor" href="#%e9%85%8d%e7%bd%ae-hugo-%e4%b8%bb%e9%a2%98">#</a>
</h3>
<p>最好的搜索方式是在 
  <a href="https://github.com/">https://github.com/</a> 中，搜索关键词：hugo theme。或者使用搜索引擎，搜索：hugo theme site:github.com。</p>
<p>然后进入到项目目录中，下载安装我们需要的主题：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/theme-demo.git themes/theme-demo
</span></span><span style="display:flex;"><span>cp -r themes/theme-demo/_source/* source
</span></span></code></pre></div><p>希望使用下载的主题，添加 themes/theme-demo/exampleSite/config.toml 中的配置，还需要在 config.toml 中配置主题：</p>
<pre tabindex="0"><code>theme = &#34;theme-demo&#34;
</code></pre><p>此外，在有些 theme-demo 文件夹中会有 demo 或 example 目录，文件结构与新建的 Hugo 项目的文件结构几乎是一样的，这样设置是为了用户的配置可以覆盖掉主题的配置。</p>
<h2 id="使用技巧">
  使用技巧
  <a class="anchor" href="#%e4%bd%bf%e7%94%a8%e6%8a%80%e5%b7%a7">#</a>
</h2>
<h3 id="图片问题">
  图片问题
  <a class="anchor" href="#%e5%9b%be%e7%89%87%e9%97%ae%e9%a2%98">#</a>
</h3>
<p>图片不居中问题:</p>
<p>首先需要确保设置中hugo.toml文件中的设置为：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#06b6ef">markup</span>.<span style="color:#06b6ef">goldmark</span>]
</span></span><span style="display:flex;"><span>  [<span style="color:#06b6ef">markup</span>.<span style="color:#06b6ef">goldmark</span>.<span style="color:#06b6ef">renderer</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#06b6ef">unsafe</span> = <span style="color:#815ba4">true</span>
</span></span></code></pre></div><p>通过HTML的方式设置图像居中</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#5bc4bf">div</span> <span style="color:#06b6ef">style</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;text-align: center&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#5bc4bf">img</span> <span style="color:#06b6ef">alt</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;[图像描述]&#34;</span> <span style="color:#06b6ef">src</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;[path]&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#5bc4bf">div</span>&gt;
</span></span></code></pre></div><p>如果需要设置缩放：</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#5bc4bf">div</span> <span style="color:#06b6ef">style</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;text-align: center&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#5bc4bf">img</span> <span style="color:#06b6ef">alt</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;[图像描述]&#34;</span> <span style="color:#06b6ef">src</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;[path]&#34;</span><span style="color:#ef6155">,</span> <span style="color:#06b6ef">style</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;width: 50%;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#5bc4bf">div</span>&gt;
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">




  <div>
    <a class="flex align-center" href="https://github.com/alex-shpak/hugo-book/edit/master/exampleSite/content/posts/git-page-note.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "my-site" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#hugo构建github-pages">Hugo构建GitHub Pages</a>
      <ul>
        <li><a href="#hugo--github-pages-搭建个人博客">Hugo + GitHub Pages 搭建个人博客</a>
          <ul>
            <li><a href="#创建-hugo-网站">创建 Hugo 网站</a></li>
            <li><a href="#配置主题">配置主题</a></li>
            <li><a href="#新建博文">新建博文</a></li>
            <li><a href="#生成网页">生成网页</a></li>
            <li><a href="#配置文件">配置文件</a></li>
          </ul>
        </li>
        <li><a href="#github-pages-发布博客">GitHub Pages 发布博客</a>
          <ul>
            <li><a href="#github-pages-到底是在做什么">Github Pages 到底是在做什么？</a></li>
            <li><a href="#实战操作部署-hugo-作为一个-github-pages">实战操作：部署 Hugo 作为一个 GitHub Pages</a></li>
          </ul>
        </li>
        <li><a href="#gitaction-自动发布">GitAction 自动发布</a></li>
        <li><a href="#总结">总结</a></li>
        <li><a href="#选择和配置hugo-主题">选择和配置Hugo 主题</a>
          <ul>
            <li><a href="#流行的-hugo-主题">流行的 Hugo 主题</a></li>
            <li><a href="#配置-hugo-主题">配置 Hugo 主题</a></li>
          </ul>
        </li>
        <li><a href="#使用技巧">使用技巧</a>
          <ul>
            <li><a href="#图片问题">图片问题</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












